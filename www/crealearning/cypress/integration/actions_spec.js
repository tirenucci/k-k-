describe('Actions Test', function() {
    beforeEach(function() {
        cy.clearCookies()
        cy.clearLocalStorage()
        cy.wait(1000)
        cy.visit('/connection')
        cy.wait(1000)
        cy.get('.input__mail')
            .type('admin@logipro.com')
            .should('have.value', 'admin@logipro.com')
        cy.get('.input__pswd')
            .type('admin')
            .should('have.value', 'admin')
        cy.get('.connect__btn')
            .click({force: true})
        cy.wait(2000)
    })

    it ('Premiere connexion', function() {
        cy.contains('Sélectionner')
            .click({force: true})
        cy.get('.choice__btn')
            .click({force: true})
        cy.wait(2000)
    })

    it ('Mot de passe oublie', function() {
        cy.contains('Déconnexion')
            .click({force: true})
        cy.get('.forget__btn')
            .click({force: true})
        cy.wait(2000)
    })

    it('Page de profil', function() {
        cy.contains('Voir mon profil')
            .click({force: true})
        cy.contains('Modifier')
            .click({force: true})
        cy.get('#lastname')
            .clear()
            .type('César')
        cy.contains('Enregistrer')
            .click({force: true})        
    })

    it('Configurer langues des modules', function() {
        cy.contains('Configurer les langues des modules')
            .click({force: true})
    })

    it('Display Bibliotheque generale', function (){
        cy.contains('Gérer la bibliothèque générale')
            .click({force: true})
        cy.get(`button[title="Création d'un dossier"]`)
            .click()
        cy.get('.oc-fm--dialog__input--margin-bottom')
            .type('non')
        cy.contains('Créer')
            .click({force: true})
        cy.contains('non')
    })


    it('Gestion des societes', function() {
        cy.contains('Gestion des sociétés')
            .click({force: true})
        cy.wait(1000)
        cy.contains('Ajouter une société')
            .click({force: true})
        cy.wait(1000)
        cy.get('input[name="name"]')
            .type('Test')
        cy.get('input[name="quota"]')
            .type('1000')
        cy.contains('Enregistrer')
            .click({force: true})
        cy.contains('Liste des sociétés')
            .click({force: true})
        cy.get('.btn__edit:first-child')
            .eq(1)
            .click({force: true, multiple:true})
        cy.get('input[name="name"]')
            .should('have.value', 'Test')
            .type('2')
        cy.contains('Enregistrer')
            .click({force: true})
        cy.contains('Liste des sociétés')
            .click({force: true})
        cy.get('.btn__delete')
            .click({force: true, multiple:true})
        cy.contains('Ok')
            .click({force: true})
    })

    it('Config des objets integres', function() {
        cy.contains('Configurer les objets intégrés')
            .click({force: true})
        cy.wait(1000)
        cy.contains('Créer un nouveau thème')
            .click({force: true})
        cy.wait(1000)
        cy.get('input[name="themePosition"]')
            .type('7')
        cy.get('input[name="themeTitle"]')
            .type('Test')
        cy.contains('Enregistrer')
            .click({force: true})
        cy.contains('Google Slide')
            .click({force: true})
        cy.get('select[name="theme"]')
            .select('Mapping')
        cy.contains('Enregistrer')
    })
  })